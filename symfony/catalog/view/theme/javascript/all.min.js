jQuery.cookie=function(t,e,i){if(arguments.length>1&&(null===e||"object"!=typeof e)){if(i=jQuery.extend({},i),null===e&&(i.expires=-1),"number"==typeof i.expires){var s=i.expires,n=i.expires=new Date;n.setDate(n.getDate()+s)}return document.cookie=[encodeURIComponent(t),"=",i.raw?String(e):encodeURIComponent(String(e)),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=e||{};var o,r=i.raw?function(t){return t}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?r(o[1]):null},function(t){function e(e,i){return parseInt(t.css(e[0],i))||0}function i(t){return t[0].offsetWidth+e(t,"marginLeft")+e(t,"marginRight")}function s(t){return t[0].offsetHeight+e(t,"marginTop")+e(t,"marginBottom")}t.fn.jCarouselLite=function(e){return e=t.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},e||{}),this.each(function(){function n(){return p.slice(v).slice(0,f)}function o(i){if(!r){if(e.beforeStart&&e.beforeStart.call(this,n()),e.circular)i<=e.start-f-1?(c.css(a,-(g-2*f)*m+"px"),v=i==e.start-f-1?g-2*f-1:g-2*f-e.scroll):i>=g-f+1?(c.css(a,-f*m+"px"),v=i==g-f+1?f+1:f+e.scroll):v=i;else{if(i<0||i>g-f)return;v=i}r=!0,c.animate("left"==a?{left:-v*m}:{top:-v*m},e.speed,e.easing,function(){e.afterEnd&&e.afterEnd.call(this,n()),r=!1}),e.circular||(t(e.btnPrev+","+e.btnNext).removeClass("disabled"),t(v-e.scroll<0&&e.btnPrev||v+e.scroll>g-f&&e.btnNext||[]).addClass("disabled"))}return!1}var r=!1,a=e.vertical?"top":"left",l=e.vertical?"height":"width",h=t(this),c=t("ul",h),u=t("li",c),d=u.size(),f=e.visible;e.circular&&(c.prepend(u.slice(d-f-1+1).clone()).append(u.slice(0,f).clone()),e.start+=f);var p=t("li",c),g=p.size(),v=e.start;h.css("visibility","visible"),p.css({overflow:"hidden",float:e.vertical?"none":"left"}),c.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"}),h.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var m=e.vertical?s(p):i(p),b=m*g,w=m*f;p.css({width:p.width(),height:p.height()}),c.css(l,b+"px").css(a,-v*m),h.css(l,w+"px"),e.btnPrev&&t(e.btnPrev).click(function(){return o(v-e.scroll)}),e.btnNext&&t(e.btnNext).click(function(){return o(v+e.scroll)}),e.btnGo&&t.each(e.btnGo,function(i,s){t(s).click(function(){return o(e.circular?e.visible+i:i)})}),e.mouseWheel&&h.mousewheel&&h.mousewheel(function(t,i){return o(i>0?v-e.scroll:v+e.scroll)}),e.auto&&setInterval(function(){o(v+e.scroll)},e.auto+e.speed)})}}(jQuery),function(t){function e(t,e){return e="x"===e?g.width():g.height(),"string"==typeof t?Math.round(t.match(/%/)?e/100*parseInt(t,10):parseInt(t,10)):t}function i(e){return e=t.isFunction(e)?e.call(O):e,R.photo||e.match(/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i)}function s(){for(var e in R)t.isFunction(R[e])&&"on"!==e.substring(0,2)&&(R[e]=R[e].call(O));R.rel=R.rel||O.rel,R.href=R.href||O.href,R.title=R.title||O.title}function n(i){O=i,R=t(O).data(z),s(),R.rel&&"nofollow"!==R.rel?(p=t(".cboxElement").filter(function(){return(t(this).data(z).rel||this.rel)===R.rel}),(P=p.index(O))<0&&(p=p.add(O),P=p.length-1)):(p=t(O),P=0),W||(W=B,F=B,E=O,E.blur(),t(document).bind("keydown.cbox_close",function(t){27===t.keyCode&&(t.preventDefault(),o.close())}).bind("keydown.cbox_arrows",function(t){p.length>1&&(37===t.keyCode?(t.preventDefault(),k.click()):39===t.keyCode&&(t.preventDefault(),_.click()))}),R.overlayClose&&r.css({cursor:"pointer"}).one("click",o.close),t.event.trigger($),R.onOpen&&R.onOpen.call(O),r.css({opacity:R.opacity}).show(),R.w=e(R.initialWidth,"x"),R.h=e(R.initialHeight,"y"),o.position(0),M&&g.bind("resize.cboxie6 scroll.cboxie6",function(){r.css({width:g.width(),height:g.height(),top:g.scrollTop(),left:g.scrollLeft()})}).trigger("scroll.cboxie6")),C.add(k).add(_).add(S).add(S).add(v).add(y).hide(),I.html(R.close).show(),o.slideshow(),o.showRelated(),o.load()}var o,r,a,l,h,c,u,d,f,p,g,v,m,b,w,x,y,C,S,_,k,I,T,N,D,j,O,E,P,R,W,F,z="colorbox",L="hover",B=!0,A=t.browser.IE,M=A&&!window.XMLHttpRequest,K=!0,$="cbox_open",V="cbox_load",H="cbox_complete",Q="resize.cbox_resize",U={transition:"none",speed:350,width:!1,height:!1,innerWidth:!1,innerHeight:!1,initialWidth:"400",initialHeight:"400",maxWidth:"1000",maxHeight:"900",scalePhotos:B,scrolling:B,inline:!1,html:!1,iframe:!1,photo:!1,href:!1,title:!1,rel:!1,related:!1,opacity:.9,preloading:B,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,overlayClose:B,returnFocus:!1,fastIframe:!1,slideshow:!1,slideshowAuto:!1,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1};o=t.fn.colorbox=function(e,i){var s=this;if(!s.length){if(""!==s.selector)return this;s=t("<a/>"),e.open=B}return s.each(function(){var s=t.extend({},t(this).data(z)?t(this).data(z):U,e);t(this).data(z,s).addClass("cboxElement"),i&&(t(this).data(z).onComplete=i)}),e&&e.open&&n(s),this},o.init=function(){function e(e){return t('<div id="cbox'+e+'"/>')}g=t(window),a=t('<div id="colorbox"/>'),r=e("Overlay").hide(),l=e("Wrapper"),h=e("Content").append(m=e("LoadedContent").css({width:0,height:0}),w=e("LoadingOverlay"),x=e("LoadingGraphic"),y=e("Title"),C=e("Current"),v=e("Imgs"),S=e("Slideshow"),_=e("Next"),k=e("Previous"),I=e("Close")),l.append(t("<div/>").append(e("TopLeft"),c=e("TopCenter"),e("TopRight")),t("<div/>").append(u=e("MiddleLeft"),h,d=e("MiddleRight")),t("<div/>").append(e("BottomLeft"),f=e("BottomCenter"),e("BottomRight"))).children().children().css({float:"left"}),b=t("<div style='position:absolute; top:0; left:0; width:9999px; height:0;'/>"),t("body").prepend(r,a.append(l,b)),A&&(a.addClass("cboxIE"),M&&r.css("position","absolute")),h.children().bind("mouseover mouseout",function(){t(this).toggleClass(L)}).addClass(L),T=c.height()+f.height()+h.outerHeight(B)-h.height(),N=u.width()+d.width()+h.outerWidth(B)-h.width(),D=m.outerHeight(B),j=m.outerWidth(B),a.css({"padding-bottom":T,"padding-right":N}).hide(),_.click(o.next),k.click(o.prev),I.click(o.close),h.children().removeClass(L),t(".cboxElement").live("click",function(t){return 0!==t.button&&void 0!==t.button?B:(n(this),!1)})},o.position=function(t,e){function i(t){c[0].style.width=f[0].style.width=h[0].style.width=t.style.width,x[0].style.height=w[0].style.height=h[0].style.height=u[0].style.height=d[0].style.height=t.style.height}var s,n=g.height(),o=Math.max(n-R.h-D-T,0)/2+g.scrollTop(),r=Math.max(document.documentElement.clientWidth-R.w-j-N,0)/2+g.scrollLeft();s=a.width()===R.w+j&&a.height()===R.h+D?0:t,l[0].style.width=l[0].style.height="9999px",a.dequeue().animate({width:R.w+j,height:R.h+D,top:o,left:r},{duration:s,complete:function(){i(this),F=!1,l[0].style.width=R.w+j+N+"px",l[0].style.height=R.h+D+T+"px",e&&e()},step:function(){i(this)}})},o.resize=function(e){function s(e){o.position(e,function(){W&&(A&&(u&&m.fadeIn(100),a[0].style.removeAttribute("filter")),R.iframe&&m.append("<iframe id='cboxIframe'"+(R.scrolling?" ":"scrolling='no'")+" name='iframe_"+(new Date).getTime()+"' frameborder=0 src='"+R.href+"' "+(A?"allowtransparency='true'":"")+" />"),m.show(),y.show().html(R.title),p.length>1&&(C.html(R.current.replace(/\{current\}/,P+1).replace(/\{total\}/,p.length)).show(),_.html(R.next).show(),k.html(R.previous).show(),R.slideshow&&S.show()),w.hide(),x.hide(),t.event.trigger(H),R.onComplete&&R.onComplete.call(O),"fade"===R.transition&&a.fadeTo(d,1,function(){A&&a[0].style.removeAttribute("filter")}),g.bind(Q,function(){o.position(0)}))})}if(W){var n,r,l,c,u,d="none"===R.transition?0:R.speed;if(g.unbind(Q),!e)return void setTimeout(function(){var t=m.wrapInner("<div style='overflow:auto'></div>").children();R.h=t.height(),m.css({height:R.h}),t.replaceWith(t.children()),o.position(d)},1);m.remove(),m=t('<div id="cboxLoadedContent" />').html(e),m.hide().appendTo(b).css({width:function(){return R.w=R.w||m.width(),R.w=R.mw&&R.mw<R.w?R.mw:R.w,R.w}(),overflow:R.scrolling?"auto":"hidden"}).css({height:function(){return R.h=R.h||m.height(),R.h=R.mh&&R.mh<R.h?R.mh:R.h,R.h}()}).prependTo(h),t("#cboxPhoto").css({cssFloat:"none"}),M&&t("select:not(#colorbox select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("cbox_cleanup",function(){this.style.visibility="inherit"}),"fade"===R.transition&&a.fadeTo(d,0,function(){s(0)})||s(d),R.preloading&&p.length>1&&(n=P>0?p[P-1]:p[p.length-1],l=P<p.length-1?p[P+1]:p[0],c=t(l).data(z).href||l.href,r=t(n).data(z).href||n.href,i(c)&&t("<img />").attr("src",c),i(r)&&t("<img />").attr("src",r))}},o.load=function(){var n,r,a,l=o.resize;F=B,O=p[P],R=t(O).data(z),s(),t.event.trigger(V),R.onLoad&&R.onLoad.call(O),R.h=R.height?e(R.height,"y")-D-T:!!R.innerHeight&&e(R.innerHeight,"y"),R.w=R.width?e(R.width,"x")-j-N:!!R.innerWidth&&e(R.innerWidth,"x"),R.mw=R.w,R.mh=R.h,R.maxWidth&&(R.mw=e(R.maxWidth,"x")-j-N,R.mw=R.w&&R.w<R.mw?R.w:R.mw),R.maxHeight&&(R.mh=e(R.maxHeight,"y")-D-T,R.mh=R.h&&R.h<R.mh?R.h:R.mh),n=R.href,w.show(),x.show(),R.inline?(t('<div id="cboxInlineTemp" />').hide().insertBefore(t(n)[0]).bind(V+" cbox_cleanup",function(){t(this).replaceWith(m.children())}),l(t(n))):R.iframe?l(" "):R.html?l(R.html):i(n)?(r=new Image,r.onload=function(){var e;r.onload=null,r.id="cboxPhoto",t(r).css({margin:"auto",border:"none",display:"block",cssFloat:"left"}),R.scalePhotos&&(a=function(){r.height-=r.height*e,r.width-=r.width*e},R.mw&&r.width>R.mw&&(e=(r.width-R.mw)/r.width,a()),R.mh&&r.height>R.mh&&(e=(r.height-R.mh)/r.height,a())),R.h&&(r.style.marginTop=Math.max(R.h-r.height,0)/2+"px"),l(r),p.length>1&&t(r).css({cursor:"pointer"}).click(o.next),A&&(r.style.msInterpolationMode="bicubic")},r.src=n):t("<div />").appendTo(b).load(n,function(e,i){l("success"===i?this:t("<p>Request unsuccessful.</p>"))})},o.next=function(){F||(P=P<p.length-1?P+1:0,o.load())},o.prev=function(){F||(P=P>0?P-1:p.length-1,o.load())},o.slideshow=function(){function e(){S.text(R.slideshowStop).bind(H,function(){s=setTimeout(o.next,R.slideshowSpeed)}).bind(V,function(){clearTimeout(s)}).one("click",function(){i(),t(this).removeClass(L)}),a.removeClass(n+"off").addClass(n+"on")}var i,s,n="cboxSlideshow_";S.bind("cbox_closed",function(){S.unbind(),clearTimeout(s),a.removeClass(n+"off "+n+"on")}),i=function(){clearTimeout(s),S.text(R.slideshowStart).unbind(H+" "+V).one("click",function(){e(),s=setTimeout(o.next,R.slideshowSpeed),t(this).removeClass(L)}),a.removeClass(n+"on").addClass(n+"off")},R.slideshow&&p.length>1&&(R.slideshowAuto?e():i())},o.showRelated=function(){if(!R.related)return void(K||(D-=110+105*Math.ceil((p.length-7)/7),K=!0));K&&p.length>1&&(D+=110+105*Math.ceil((p.length-7)/7),K=!1),v.html("");var t=[];if(p.length>1)for(var e=p.find("img"),i=0,s=e.length;i<s;i++)t.push('<img id="thumb',i,'" src="',e[i].src,'" />');v.html(t.join("")),v.show(),v.find("img").click(function(){F||(P=v.find("img").index(this),o.load())})},o.close=function(){t.event.trigger("cbox_cleanup"),R.onCleanup&&R.onCleanup.call(O),W=!1,t(document).unbind("keydown.cbox_close keydown.cbox_arrows"),g.unbind(Q+" resize.cboxie6 scroll.cboxie6"),r.css({cursor:"auto"}).fadeOut("fast"),a.stop(B,!1).fadeOut("fast",function(){t("#colorbox iframe").attr("src","about:blank"),m.remove(),a.css({opacity:1});try{E.focus()}catch(t){}t.event.trigger("cbox_closed"),R.onClosed&&R.onClosed.call(O)})},o.element=function(){return t(O)},o.settings=U,t(o.init)}(jQuery),function(t){t.fn.sisyphus=function(e){var i=t.map(this,function(e){return t(e).attr("id")+t(e).attr("name")}).join(),s=Sisyphus.getInstance(i);return s.protect(this,e),s};var e={};e.isAvailable=function(){if("object"==typeof t.jStorage)return!0;try{return localStorage.getItem}catch(t){return!1}},e.set=function(e,i){if("object"==typeof t.jStorage)t.jStorage.set(e,i+"");else try{localStorage.setItem(e,i+"")}catch(t){}},e.get=function(e){if("object"==typeof t.jStorage){var i=t.jStorage.get(e);return i?""+i:i}return localStorage.getItem(e)},e.remove=function(e){"object"==typeof t.jStorage?t.jStorage.deleteKey(e):localStorage.removeItem(e)},Sisyphus=function(){function i(){return{setInstanceIdentifier:function(t){this.identifier=t},getInstanceIdentifier:function(){return this.identifier},setInitialOptions:function(i){var s={excludeFields:[],customKeySuffix:"",locationBased:!1,timeout:0,autoRelease:!0,onSave:function(){},onBeforeRestore:function(){},onRestore:function(){},onRelease:function(){}};this.options=this.options||t.extend(s,i),this.browserStorage=e},setOptions:function(e){this.options=this.options||this.setInitialOptions(e),this.options=t.extend(this.options,e)},protect:function(e,i){this.setOptions(i),e=e||{};var n=this;if(this.targets=this.targets||[],this.href=n.options.name?n.options.name:location.hostname+location.pathname+location.search+location.hash,this.targets=t.merge(this.targets,e),this.targets=t.unique(this.targets),this.targets=t(this.targets),!this.browserStorage.isAvailable())return!1;var o=n.options.onBeforeRestore.call(n);if((void 0===o||o)&&n.restoreAllData(),this.options.autoRelease&&n.bindReleaseData(),!s.started[this.getInstanceIdentifier()])if(n.isCKEditorPresent())var r=setInterval(function(){CKEDITOR.isLoaded&&(clearInterval(r),n.bindSaveData(),s.started[n.getInstanceIdentifier()]=!0)},100);else n.bindSaveData(),s.started[n.getInstanceIdentifier()]=!0},isCKEditorPresent:function(){return!!this.isCKEditorExists()&&(CKEDITOR.isLoaded=!1,CKEDITOR.on("instanceReady",function(){CKEDITOR.isLoaded=!0}),!0)},isCKEditorExists:function(){return"undefined"!=typeof CKEDITOR},findFieldsToProtect:function(t){return t.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password").not(":disabled").not("[readonly]")},bindSaveData:function(){var e=this;e.options.timeout&&e.saveDataByTimeout(),e.targets.each(function(){var i=t(this).attr("id")+t(this).attr("name");e.findFieldsToProtect(t(this)).each(function(){if(-1!==t.inArray(this,e.options.excludeFields))return!0;var s=t(this),n=(e.options.locationBased?e.href:"")+i+s.attr("name")+e.options.customKeySuffix;(s.is(":text")||s.is("textarea"))&&(e.options.timeout||e.bindSaveDataImmediately(s,n)),e.bindSaveDataOnChange(s)})})},saveAllData:function(){var e=this;e.targets.each(function(){var i=t(this).attr("id")+t(this).attr("name"),s={};e.findFieldsToProtect(t(this)).each(function(){var n=t(this);if(-1!==t.inArray(this,e.options.excludeFields)||void 0===n.attr("name"))return!0;var o=(e.options.locationBased?e.href:"")+i+n.attr("name")+e.options.customKeySuffix,r=n.val();if(n.is(":checkbox")){if(-1!==n.attr("name").indexOf("[")){if(!0===s[n.attr("name")])return;r=[],t("[name='"+n.attr("name")+"']:checked").each(function(){r.push(t(this).val())}),s[n.attr("name")]=!0}else r=n.is(":checked");e.saveToBrowserStorage(o,r,!1)}else if(n.is(":radio"))n.is(":checked")&&(r=n.val(),e.saveToBrowserStorage(o,r,!1));else if(e.isCKEditorExists()){var a;(a=CKEDITOR.instances[n.attr("name")]||CKEDITOR.instances[n.attr("id")])?(a.updateElement(),e.saveToBrowserStorage(o,n.val(),!1)):e.saveToBrowserStorage(o,r,!1)}else e.saveToBrowserStorage(o,r,!1)})}),e.options.onSave.call(e)},restoreAllData:function(){var e=this,i=!1;e.targets.each(function(){var s=t(this),n=t(this).attr("id")+t(this).attr("name");e.findFieldsToProtect(s).each(function(){if(-1!==t.inArray(this,e.options.excludeFields))return!0;var s=t(this),o=(e.options.locationBased?e.href:"")+n+s.attr("name")+e.options.customKeySuffix,r=e.browserStorage.get(o);null!==r&&(e.restoreFieldsData(s,r),i=!0)})}),i&&e.options.onRestore.call(e)},restoreFieldsData:function(t,e){return void 0!==t.attr("name")&&void(t.is(":checkbox")&&"false"!==e&&-1===t.attr("name").indexOf("[")?t.attr("checked","checked"):t.is(":checkbox")&&"false"===e&&-1===t.attr("name").indexOf("[")?t.removeAttr("checked"):t.is(":radio")?t.val()===e&&t.attr("checked","checked"):-1===t.attr("name").indexOf("[")?t.val(e):(e=e.split(","),t.val(e)))},bindSaveDataImmediately:function(t,e){var i=this;if("onpropertychange"in t?t.get(0).onpropertychange=function(){i.saveToBrowserStorage(e,t.val())}:t.get(0).oninput=function(){i.saveToBrowserStorage(e,t.val())},this.isCKEditorExists()){var s;(s=CKEDITOR.instances[t.attr("name")]||CKEDITOR.instances[t.attr("id")])&&s.document.on("keyup",function(){s.updateElement(),i.saveToBrowserStorage(e,t.val())})}},saveToBrowserStorage:function(t,e,i){i=void 0===i||i,this.browserStorage.set(t,e),i&&""!==e&&this.options.onSave.call(this)},bindSaveDataOnChange:function(t){var e=this;t.change(function(){e.saveAllData()})},saveDataByTimeout:function(){var t=this;t.targets;setTimeout(function(){function e(){t.saveAllData(),setTimeout(e,1e3*t.options.timeout)}return e}(),1e3*t.options.timeout)},bindReleaseData:function(){var e=this;e.targets.each(function(){var i=t(this),s=i.attr("id")+i.attr("name");t(this).bind("submit reset",function(){e.releaseData(s,e.findFieldsToProtect(i))})})},manuallyReleaseData:function(){var e=this;e.targets.each(function(){var i=t(this),s=i.attr("id")+i.attr("name");e.releaseData(s,e.findFieldsToProtect(i))})},releaseData:function(e,i){var n=!1,o=this;s.started[o.getInstanceIdentifier()]=!1,i.each(function(){if(-1!==t.inArray(this,o.options.excludeFields))return!0;var i=t(this),s=(o.options.locationBased?o.href:"")+e+i.attr("name")+o.options.customKeySuffix;o.browserStorage.remove(s),n=!0}),n&&o.options.onRelease.call(o)}}}var s={instantiated:[],started:[]};return{getInstance:function(t){return s.instantiated[t]||(s.instantiated[t]=i(),s.instantiated[t].setInstanceIdentifier(t),s.instantiated[t].setInitialOptions()),s.instantiated[t]},free:function(){return s={instantiated:[],started:[]},null},version:"1.1.2"}}()}(jQuery),$.tabs=function(t,e){$(t).each(function(e,i){$($(i).attr("tab")).css({height:"0px",overflow:"hidden",position:"relative"}),$(i).click(function(){$(t).each(function(t,e){$(e).removeClass("selected"),$($(e).attr("tab")).css({height:"0px",overflow:"hidden",position:"relative"})}),$(this).addClass("selected"),$($(this).attr("tab")).css({height:"auto",overflow:"visible",position:"relative"})})}),e||(e=$(t+":first").attr("tab")),$(t+"[tab='"+e+"']").trigger("click")},function(t){t.baseClass=function(e){return e=t(e),e.get(0).className.match(/([^ ]+)/)[1]},t.fn.addDependClass=function(e,i){var s={delimiter:i||"-"};return this.each(function(){var i=t.baseClass(this);i&&t(this).addClass(i+s.delimiter+e)})},t.fn.removeDependClass=function(e,i){var s={delimiter:i||"-"};return this.each(function(){var i=t.baseClass(this);i&&t(this).removeClass(i+s.delimiter+e)})},t.fn.toggleDependClass=function(e,i){var s={delimiter:i||"-"};return this.each(function(){var i=t.baseClass(this);i&&(t(this).is("."+i+s.delimiter+e)?t(this).removeClass(i+s.delimiter+e):t(this).addClass(i+s.delimiter+e))})}}(jQuery),function(){Function.prototype.inheritFrom=function(t,e){var i=function(){};if(i.prototype=t.prototype,this.prototype=new i,this.prototype.constructor=this,this.prototype.baseConstructor=t,this.prototype.superClass=t.prototype,e)for(var s in e)this.prototype[s]=e[s]},Number.prototype.jSliderNice=function(t){var e,i=Number(this),s=String(i),n="";if(e=s.match(/^(-)?(\d+)([\.,](\d+))?$/)){var o=e[2],r=e[4]?Number("0."+e[4]):0;if(r){var a=Math.pow(10,t||2);if(r=Math.round(r*a),sNewDecPart=String(r),n=sNewDecPart,sNewDecPart.length<t)for(var l=t-sNewDecPart.length,h=0;h<l;h++)n="0"+n;n=","+n}else if(t&&0!=t){for(var h=0;h<t;h++)n+="0";n=","+n}var c;if(Number(o)<1e3)c=o+n;else{var h,u="";for(h=1;3*h<o.length;h++)u=" "+o.substring(o.length-3*h,o.length-3*(h-1))+u;c=o.substr(0,3-3*h+o.length)+u+n}return e[1]?"-"+c:c}return s},this.jSliderIsArray=function(t){return void 0!==t&&(t instanceof Array||!(t instanceof Object)&&"[object Array]"==Object.prototype.toString.call(t)||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))}}(),function(){var t={};this.jSliderTmpl=function e(i,s){var n=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(i);return s?n(s):n}}(),function(t){this.Draggable=function(){this._init.apply(this,arguments)},Draggable.prototype={oninit:function(){},events:function(){},onmousedown:function(){this.ptr.css({position:"absolute"})},onmousemove:function(t,e,i){this.ptr.css({left:e,top:i})},onmouseup:function(){},isDefault:{drag:!1,clicked:!1,toclick:!0,mouseup:!1},_init:function(){if(arguments.length>0){this.ptr=t(arguments[0]),this.outer=t(".draggable-outer"),this.is={},t.extend(this.is,this.isDefault);var e=this.ptr.offset();this.d={left:e.left,top:e.top,width:this.ptr.width(),height:this.ptr.height()},this.oninit.apply(this,arguments),this._events()}},_getPageCoords:function(t){return t.targetTouches&&t.targetTouches[0]?{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}:{x:t.pageX,y:t.pageY}},_bindEvent:function(t,e,i){this.supportTouches_?t.get(0).addEventListener(this.events_[e],i,!1):t.bind(this.events_[e],i)},_events:function(){var e=this;this.supportTouches_=t.browser.webkit&&-1!=navigator.userAgent.indexOf("Mobile"),this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"},this._bindEvent(t(document),"move",function(t){e.is.drag&&(t.stopPropagation(),t.preventDefault(),e._mousemove(t))}),this._bindEvent(t(document),"down",function(t){e.is.drag&&(t.stopPropagation(),t.preventDefault())}),this._bindEvent(t(document),"up",function(t){e._mouseup(t)}),this._bindEvent(this.ptr,"down",function(t){return e._mousedown(t),!1}),this._bindEvent(this.ptr,"up",function(t){e._mouseup(t)}),this.ptr.find("a").click(function(){if(e.is.clicked=!0,!e.is.toclick)return e.is.toclick=!0,!1}).mousedown(function(t){return e._mousedown(t),!1}),this.events()},_mousedown:function(e){this.is.drag=!0,this.is.clicked=!1,this.is.mouseup=!1;var i=this.ptr.offset(),s=this._getPageCoords(e);this.cx=s.x-i.left,this.cy=s.y-i.top,t.extend(this.d,{left:i.left,top:i.top,width:this.ptr.width(),height:this.ptr.height()}),this.outer&&this.outer.get(0)&&this.outer.css({height:Math.max(this.outer.height(),t(document.body).height()),overflow:"hidden"}),this.onmousedown(e)},_mousemove:function(t){this.is.toclick=!1;var e=this._getPageCoords(t);this.onmousemove(t,e.x-this.cx,e.y-this.cy)},_mouseup:function(e){this.is.drag&&(this.is.drag=!1,this.outer&&this.outer.get(0)&&(t.browser.mozilla?this.outer.css({overflow:"hidden"}):this.outer.css({overflow:"visible"}),t.browser.msie&&"6.0"==t.browser.version?this.outer.css({height:"100%"}):this.outer.css({height:"auto"})),this.onmouseup(e))}}}(jQuery),function(t){function e(){this.baseConstructor.apply(this,arguments)}t.slider=function(e,i){var s=t(e);return s.data("jslider")||s.data("jslider",new jSlider(e,i)),s.data("jslider")},t.fn.slider=function(e,i){function s(t){return void 0!==t}function n(t){return null!=t}var o,r=arguments;return this.each(function(){var a=t.slider(this,e);if("string"==typeof e)switch(e){case"value":if(s(r[1])&&s(r[2])){var l=a.getPointers();n(l[0])&&n(r[1])&&(l[0].set(r[1]),l[0].setIndexOver()),n(l[1])&&n(r[2])&&(l[1].set(r[2]),l[1].setIndexOver())}else if(s(r[1])){var l=a.getPointers();n(l[0])&&n(r[1])&&(l[0].set(r[1]),l[0].setIndexOver())}else o=a.getValue();break;case"prc":if(s(r[1])&&s(r[2])){var l=a.getPointers();n(l[0])&&n(r[1])&&(l[0]._set(r[1]),l[0].setIndexOver()),n(l[1])&&n(r[2])&&(l[1]._set(r[2]),l[1].setIndexOver())}else if(s(r[1])){var l=a.getPointers();n(l[0])&&n(r[1])&&(l[0]._set(r[1]),l[0].setIndexOver())}else o=a.getPrcValue();break;case"calculatedValue":var h=a.getValue().split(";");o="";for(var c=0;c<h.length;c++)o+=(c>0?";":"")+a.nice(h[c]);break;case"skin":a.setSkin(r[1])}else e||i||(jSliderIsArray(o)||(o=[]),o.push(slider))}),jSliderIsArray(o)&&1==o.length&&(o=o[0]),o||this};var i={settings:{from:1,to:10,step:1,smooth:!0,limits:!0,round:0,value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:jSliderTmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"><i></i></i><i class="r"><i></i></i><i class="v"><i></i></i></div><div class="<%=className%>-pointer"><i></i></div><div class="<%=className%>-pointer <%=className%>-pointer-to"><i></i></div><div class="<%=className%>-label"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span><span class="slide_price_from"><span>от:</span><input type="text" value="" class="left_price" id="price_from" /></span><span class="slide_price_to"><span>до:</span><input type="text" value="" class="right_price" id="price_to" /> грн </span>')};this.jSlider=function(){return this.init.apply(this,arguments)},jSlider.prototype={init:function(e,s){this.settings=t.extend(!0,{},i.settings,s||{}),this.inputNode=t(e).hide(),this.settings.interval=this.settings.to-this.settings.from,this.settings.value=this.inputNode.attr("value"),this.settings.calculate&&t.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate),this.settings.onstatechange&&t.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange),this.is={init:!1},this.o={},this.create()},onstatechange:function(){},create:function(){var s=this;this.domNode=t(i.template({className:i.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()})),this.inputNode.after(this.domNode),this.drawScale(),this.settings.skin&&this.settings.skin.length>0&&this.setSkin(this.settings.skin),this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()},t.extend(this.o,{pointers:{},limits:{0:this.domNode.find(i.selector+"label").not(i.selector+"label-to"),1:this.domNode.find(i.selector+"label").filter(i.selector+"label-to")}}),s.settings.value.split(";")[1]||(this.settings.single=!0,this.domNode.addDependClass("single")),s.settings.limits||this.domNode.addDependClass("limitless"),this.domNode.find(i.selector+"pointer").each(function(t){var i=s.settings.value.split(";")[t];if(i){s.o.pointers[t]=new e(this,t,s);var n=s.settings.value.split(";")[t-1];n&&new Number(i)<new Number(n)&&(i=n),i=i<s.settings.from?s.settings.from:i,i=i>s.settings.to?s.settings.to:i,s.o.pointers[t].set(i,!0)}}),this.o.value=this.domNode.find(".v"),this.is.init=!0,t.each(this.o.pointers,function(t){s.redraw(this)}),function(e){t(window).resize(function(){e.onresize()})}(this)},setSkin:function(t){this.skin_&&this.domNode.removeDependClass(this.skin_,"_"),this.domNode.addDependClass(this.skin_=t,"_")},setPointersIndex:function(e){t.each(this.getPointers(),function(t){this.index(t)})},getPointers:function(){return this.o.pointers},generateScale:function(){if(this.settings.scale&&this.settings.scale.length>0){for(var t="",e=this.settings.scale,i=Math.round(100/(e.length-1)*10)/10,s=0;s<e.length;s++)t+='<span style="left: '+s*i+'%">'+("|"!=e[s]?"<ins>"+e[s]+"</ins>":"")+"</span>";return t}return""},drawScale:function(){this.domNode.find(i.selector+"scale span ins").each(function(){t(this).css({marginLeft:-t(this).outerWidth()/2})})},onresize:function(){var e=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()},t.each(this.o.pointers,function(t){e.redraw(this)})},limits:function(t,e){if(!this.settings.smooth){var i=100*this.settings.step/this.settings.interval;t=Math.round(t/i)*i}var s=this.o.pointers[1-e.uid];return s&&e.uid&&t<s.value.prc&&(t=s.value.prc),s&&!e.uid&&t>s.value.prc&&(t=s.value.prc),t<0&&(t=0),t>100&&(t=100),Math.round(10*t)/10},redraw:function(t){if(!this.is.init)return!1;this.setValue(),this.o.pointers[0]&&this.o.pointers[1]&&this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"}),t.uid?$("#price_to").val(this.nice(t.value.origin)):$("#price_from").val(this.nice(t.value.origin))},redrawLabels:function(t){function e(t,e,s){return e.margin=-e.label/2,label_left=e.border+e.margin,label_left<0&&(e.margin-=label_left),e.border+e.label/2>i.sizes.domWidth?(e.margin=0,e.right=!0):e.right=!1,t.o.css({left:s+"%",marginLeft:e.margin,right:"auto"}),e.right&&t.o.css({left:"auto",right:0}),e}var i=this,s=this.o.labels[t.uid],n=t.value.prc,o={label:s.o.outerWidth(),right:!1,border:n*this.sizes.domWidth/100};if(!this.settings.single){var r=this.o.pointers[1-t.uid],a=this.o.labels[r.uid];switch(t.uid){case 0:o.border+o.label/2>a.o.offset().left-this.sizes.domOffset.left?(a.o.css({visibility:"hidden"}),a.value.html(this.nice(r.value.origin)),s.o.css({visibility:"visible"}),n=(r.value.prc-n)/2+n,r.value.prc!=t.value.prc&&(s.value.html(this.nice(t.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(r.value.origin)),o.label=s.o.outerWidth(),o.border=n*this.sizes.domWidth/100)):a.o.css({visibility:"visible"});break;case 1:o.border-o.label/2<a.o.offset().left-this.sizes.domOffset.left+a.o.outerWidth()?(a.o.css({visibility:"hidden"}),a.value.html(this.nice(r.value.origin)),s.o.css({visibility:"visible"}),n=(n-r.value.prc)/2+r.value.prc,r.value.prc!=t.value.prc&&(s.value.html(this.nice(r.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(t.value.origin)),o.label=s.o.outerWidth(),o.border=n*this.sizes.domWidth/100)):a.o.css({visibility:"visible"})}}if(o=e(s,o,n),a){var o={label:a.o.outerWidth(),right:!1,border:r.value.prc*this.sizes.domWidth/100};o=e(a,o,r.value.prc)}this.redrawLimits()},redrawLimits:function(){if(this.settings.limits){var t=[!0,!0];for(key in this.o.pointers)if(!this.settings.single||0==key){this.o.pointers[key]}for(var e=0;e<t.length;e++)t[e]?this.o.limits[e].fadeIn("fast"):this.o.limits[e].fadeOut("fast")}},setValue:function(){var t=this.getValue();this.inputNode.attr("value",t),this.onstatechange.call(this,t)},getValue:function(){if(!this.is.init)return!1;var e=this,i="";return t.each(this.o.pointers,function(t){void 0==this.value.prc||isNaN(this.value.prc)||(i+=(t>0?";":"")+e.prcToValue(this.value.prc))}),i},getPrcValue:function(){if(!this.is.init)return!1;var e="";return t.each(this.o.pointers,function(t){void 0==this.value.prc||isNaN(this.value.prc)||(e+=(t>0?";":"")+this.value.prc)}),e},prcToValue:function(t){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0)for(var e=this.settings.heterogeneity,i=0,s=this.settings.from,n=0;n<=e.length;n++){if(e[n])var o=e[n].split("/");else var o=[100,this.settings.to];if(o[0]=new Number(o[0]),o[1]=new Number(o[1]),t>=i&&t<=o[0])var r=s+(t-i)*(o[1]-s)/(o[0]-i);i=o[0],s=o[1]}else var r=this.settings.from+t*this.settings.interval/100;return this.round(r)},valueToPrc:function(t,e){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0)for(var i=this.settings.heterogeneity,s=0,n=this.settings.from,o=0;o<=i.length;o++){if(i[o])var r=i[o].split("/");else var r=[100,this.settings.to];if(r[0]=new Number(r[0]),r[1]=new Number(r[1]),t>=n&&t<=r[1])var a=e.limits(s+(t-n)*(r[0]-s)/(r[1]-n));s=r[0],n=r[1]}else var a=e.limits(100*(t-this.settings.from)/this.settings.interval);return a},round:function(t){return t=Math.round(t/this.settings.step)*this.settings.step,t=this.settings.round?Math.round(t*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):Math.round(t)},nice:function(t){return t=t.toString().replace(/,/gi,"."),t=t.toString().replace(/ /gi,""),
    Number.prototype.jSliderNice?new Number(t).jSliderNice(this.settings.round).replace(/-/gi,"&minus;"):new Number(t)}},e.inheritFrom(Draggable,{oninit:function(t,e,i){this.uid=e,this.parent=i,this.value={},this.settings=this.parent.settings},onmousedown:function(t){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()},this.ptr.addDependClass("hover"),this.setIndexOver()},onmousemove:function(t,e){var i=this._getPageCoords(t);this._set(this.calc(i.x))},onmouseup:function(e){this.parent.settings.callback&&t.isFunction(this.parent.settings.callback)&&this.parent.settings.callback.call(this.parent,this.parent.getValue()),this.ptr.removeDependClass("hover")},setIndexOver:function(){this.parent.setPointersIndex(1),this.index(2)},index:function(t){this.ptr.css({zIndex:t})},limits:function(t){return this.parent.limits(t,this)},calc:function(t){return this.limits(100*(t-this._parent.offset.left)/this._parent.width)},set:function(t,e){this.value.origin=this.parent.round(t),this._set(this.parent.valueToPrc(t,this),e)},_set:function(t,e){e||(this.value.origin=this.parent.prcToValue(t)),this.value.prc=t,this.ptr.css({left:t+"%"}),this.parent.redraw(this)}})}(jQuery);